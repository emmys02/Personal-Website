---
title: >
  What Factors Contribute to World Happiness?
author:
  - name: Alison Hui
  - name: Ingyu Lee
  - name: Emmy Su
  - name: Kevin Shiah
  - name: Selena Lam
date: "`r Sys.Date()`"
output:
  betterposter::poster_better:
    # Optional styling arguments
    hero_background: "#0F5D4F"
    accent_color: "#444444"
    hero_color: "#FFFFFF"
    logo: "http://bit.ly/2UFWcbr"
    # See betterposter::qrcode_options() for help
    qrcode:
      text: "https://docs.google.com/document/d/11D8Ldb5Z8UfdQ5RFoE1ckECI5GopZ6byNdOkHW8mNi8/edit?tab=t.0"
      size: "350"
    mathjax: false
    # Generic rmarkdown arguments
    highlight: tango
    self_contained: true
references:
  - id: 
    title: World Happiness Report
    author:
    - family: Fenner
      given: Martin
    container-title: Nature Materials
    volume: 11
    URL: 'https://www.kaggle.com/datasets/unsdsn/world-happiness/data'
    DOI: 10.1038/nmat3283
    issue: 4
    publisher: Nature Publishing Group
    page: 261-263
    type: article-journal
    issued:
      year: 2012
      month: 3
---

```{css echo=FALSE}
/* Adjust space at top of #hero (center panel) */
#hero {
  padding-top: 10%;
}
```




<div id="hero">
<!--
  Center Column of Poster

  * The main text goes in <h1> (single #) header.
  * You can add additional text if desired.
-->

# Results

## Our analysis identified the final model to be: 

## Happiness Score = 1.7952 + 0.7754 (GDP per Capita) + 1.1242 (Social Support) + 1.0781 (Healthy Life Expectancy) + 1.4548 (Freedom to Make Life Choices)

## Generosity and Perceptions of Corruption were determined to be insignificant variables. Our performance of AIC and BIC confirmed this model as the best predictor.

## However, the dataset used may not fully capture the cultural and subjective nuances of happiness. Furthermore, while the regression model identifies correlations, it does not establish causation.



</div>    



<div id="left-bar">
<!-- Text in the left bar, title and authors added automatically -->

## Abstract

Happiness is a universal aspiration, yet understanding the factors that contribute to it remains a complex challenge. Are wealth and health the cornerstones of happiness, or do social connections and personal freedoms play a greater role? Our study seeks to uncover the key drivers of happiness and assess their relative importance.

Using data from the 2019 World Happiness Report, which ranks happiness across 150 countries, we analyze factors such as GDP per capita, social support, life expectancy, freedom, generosity, and perceptions of corruption. Our findings will illuminate the interplay of economic, social, and personal dimensions, offering valuable insights for policymakers and individuals alike.


## Methods

1. Obtained dataset from the 2019 World Happiness Report via Kaggle, containing happiness scores for 150 countries along with predictor variables: GDP per capita, Social support, Healthy life expectancy, Freedom to make life choices, Generosity, and Perceptions of corruption.

2. Conducted EDA to create visual tools such as boxplots and correlation matrices that were used to identify significant predictors and assess potential multicollinearity.

3. Developed a multiple linear regression model to quantify the relationship between predictor variables and happiness scores. Then performed forward and backward stepwise variable selection using AIC and BIC.


## Evaluation

- Distribution: 
  - This distribution of happiness scores looks somewhat like a normal distribution, with most countries having happiness scores between 4.5 to 6.5, and a couple countries having scores higher and lower than that.
  
- Boxplot:
  - The boxplot illustrates that GDP per capita, social support, and healthy life expectancy are the most significant factors, as they have the highest median values indicating significance to overall happiness in each country. In contrast, generosity and perception of corruption have the lowest median values, making them the weaker or less prevalent factors within the dataset.
  
- Correlation Matrix:
  - This correlation matrix reveals which factors are influential in determining happiness rank and score, as well as which variables are correlated with one another. We can see that GDP per capita, social support, healthy life expectancy, and freedom to make life choices have a high correlation with happiness rank and score, indicating that they are noteworthy variables that may contribute to happiness. These variables also have a slight correlation with one another, so we need to be wary of possible multicollinearity.

- Linear Regression:
  - The regression model explains 77.92% of the variance in the dependent variable, with the overall model being highly significant. Four out of the six predictors—GDP per capita, Social support, Healthy life expectancy, and Freedom to make life choices—significantly contribute to the model. This suggests that increases in these factors are positively associated with the outcome variable.
  
- AIC and BIC:
  - The best-fitting model with the lowest value (-172.22) in AIC, includes GDP per capita, Social support, Healthy life expectancy, and Freedom to make life choices. These predictors explain the variability in happiness across countries. Hence, the predictors “Perceptions of Corruption” and “Generosity” are not significant contributors to the happiness score and are considered unnecessary for the optimal model.
  
## References

United Nations Sustainable Development Solutions Network. (2019). World Happiness Report 2019 Dataset [Data set]. Kaggle. https://www.kaggle.com/datasets/unsdsn/world-happiness/data?select=2019.csv


</div>



<div id="right-bar">
<!-- Right bar -->

# Visualizations

## Histogram of Happiness Scores

```{r eval=TRUE, echo=TRUE, warning=FALSE, message=FALSE}
library(ggplot2)

data <- read.csv("/Users/jiahuisu/Downloads/archive/2019.csv", header=TRUE)

ggplot(data, aes(x = Score)) +
  geom_histogram(binwidth = 0.2, fill = "blue", color = "black", alpha = 0.7) +
  labs(title = "Distribution of Happiness Scores",
       x = "Happiness Score",
       y = "Frequency") +
  theme_minimal()
```

## Boxplot

```{r echo=TRUE}
numeric_columns <- data[, sapply(data, is.numeric)]
numeric_columns <- numeric_columns[, !colnames(numeric_columns) %in% c("Overall.rank", "Score")]

library(reshape2)
long_data <- melt(numeric_columns, id.vars = NULL)


ggplot(long_data, aes(x = variable, y = value)) +
  geom_boxplot(fill = "skyblue", alpha = 0.7) +
  labs(title = "Boxplots of Each Factor (Excluding Overall Rank and Score)",
       x = "Factors",
       y = "Values") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

## Correlation Matrix

```{r,}
library(ggplot2)
library(reshape2)

colnames(data) <- tolower(gsub("[ .]", "_", colnames(data)))

column_mapping <- list(
  "country_or_region" = "country",
  "score" = "happiness_score",
  "happiness_rank" = "happiness_rank",
  "overall_rank" = "happiness_rank"
)
for (old_name in names(column_mapping)) {
  new_name <- column_mapping[[old_name]]
  if (old_name %in% colnames(data)) {
    colnames(data)[colnames(data) == old_name] <- new_name
  }
}
cor_matrix <- cor(data[, sapply(data, is.numeric)], use = "complete.obs")

melted_cor_matrix <- melt(cor_matrix)

ggplot(data = melted_cor_matrix, aes(x = Var1, y = Var2, fill = value)) +
  geom_tile() +
  geom_text(aes(label = sprintf("%.2f", value)), color = "black", size = 3) +
  scale_fill_gradient2(low = "blue", mid = "white", high = "red", midpoint = 0,
                       limits = c(-1, 1)) +
  labs(
    title = "Correlation Matrix for 2019 Data",
    x = "",
    y = "",
    fill = "Correlation"
  ) +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    plot.title = element_text(hjust = 0.5, face = "bold", size = 14)
  )
```

